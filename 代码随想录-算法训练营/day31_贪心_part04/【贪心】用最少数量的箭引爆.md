# 题目：用最少数量的箭引爆气球 (Minimum Number of Arrows to Burst Balloons) 🎯🎈

## 题目链接  
https://leetcode.cn/problems/minimum-number-of-arrows-to-burst-balloons/

---

## 🧠 解题思路

### 📋 题意理解  
每个气球用一个区间 `[x_start, x_end]` 表示，  
表示这个气球在 **x_start 到 x_end（包含）** 之间的任意位置射一箭都能被引爆。

规则：

- 一支箭可以同时引爆 **所有被它穿过的气球**
- 箭必须沿着 **x 轴竖直射出**
- 目标：**用最少的箭引爆所有气球**

---

## 🌟 核心思想：区间贪心（按右端点排序）

这是一个非常经典的 **区间贪心问题**，核心策略是：

> **每次在“当前能射中的最右位置”射箭**

这样可以覆盖尽可能多的区间。

---

## ✨ 贪心策略拆解

### ✅ 1️⃣ 排序规则（关键）

按区间 **右端点从小到大排序**：

```cpp
sort(points.begin(), points.end(), [](auto &a, auto &b){
    return a[1] < b[1];
});
```

排序后，右端点最小的气球最“紧迫”，应该优先处理。

---

### ✅ 2️⃣ 维护当前箭的位置

- `cnt`：当前这一箭射在的位置（初始化为第一个气球的右端点）
- `ans`：已经使用的箭数

初始化：

```cpp
int ans = 1;
int cnt = points[0][1];
```

---

### ✅ 3️⃣ 遍历气球并决策

对每一个气球 `[start, end]`：

- 如果当前箭的位置 `cnt` 落在该气球区间内：
  ```text
  start ≤ cnt ≤ end
  ```
  👉 这支箭可以顺便引爆它，不需要新箭

- 否则：
  - 当前箭无法覆盖该气球
  - 必须新射一箭
  - 更新箭的位置为该气球的右端点

---

## 💻 代码实现

```cpp
class Solution {
public:
    int findMinArrowShots(vector<vector<int>>& points) {
        sort(points.begin(), points.end(), [](auto &a, auto &b){
            return a[1] < b[1];
        });

        int ans = 1, cnt = points[0][1];
        for (int i = 1; i < points.size(); i++){
            if (cnt <= points[i][1] && cnt >= points[i][0]){
                continue;
            }
            else {
                ans++;
                cnt = points[i][1];
            }
        }
        return ans;
    }
};
```

---

## 🔍 关键点解析

### ❓ 为什么按右端点排序是最优的？

- 如果箭射在区间右端点：
  - 能尽量覆盖后面更多的区间
- 这是区间调度类问题的经典结论：
  ```text
  想要用最少资源覆盖最多区间 → 优先选择最早结束的区间
  ```

---

### ❓ 判定条件为什么这样写？

```cpp
if (cnt <= points[i][1] && cnt >= points[i][0])
```

等价于：

```text
当前箭的位置是否落在新区间内
```

如果是，就说明可以“一箭双雕”。

---

## 🧠 思维模型总结

可以把问题想象成：

- 每支箭就是一个“固定点”
- 每个气球是一个“能接受这个点的区间”
- 目标是用最少的点，覆盖所有区间

这是典型的：

> **区间覆盖问题**

---

## ⏱️ 复杂度分析

设 `n = points.size()`：

| 类型 | 复杂度 |
|------|--------|
| 时间复杂度 | O(n log n)（排序） |
| 空间复杂度 | O(1)（忽略排序额外空间） |

---

## 🧾 总结

- 本题是 **区间贪心的代表题**
- 三个关键点：
  1. 按右端点排序
  2. 当前箭尽量复用
  3. 不能复用时再加新箭
- 你的实现：
  - 思路清晰
  - 判定条件准确
  - 是标准、可靠的最优解写法 ✅

```text
射气球问题的精髓：
一箭尽量多射，射得越靠右越好
```

非常适合放在你「贪心算法 · 区间问题」的小结里 🎯✨
