# ğŸŒ‰ å›¾çš„è¿é€šæ€§åˆ¤æ–­ï¼ˆDFSï¼‰

---

## âœ… é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªæœ‰å‘å›¾ï¼Œæœ‰ `N` ä¸ªèŠ‚ç‚¹ï¼ˆç¼–å·ä» 1 åˆ° Nï¼‰å’Œ `K` æ¡è¾¹ï¼Œåˆ¤æ–­ä»èŠ‚ç‚¹ 1 å‡ºå‘æ˜¯å¦å¯ä»¥è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ã€‚

è‹¥èƒ½è®¿é—®æ‰€æœ‰ç‚¹ï¼Œè¾“å‡º `1`ï¼Œå¦åˆ™è¾“å‡º `-1`ã€‚

---

## ğŸ“¦ è¾“å…¥æ ¼å¼

ç¬¬ä¸€è¡Œï¼šä¸¤ä¸ªæ•´æ•° `N` å’Œ `K`  
æ¥ä¸‹æ¥ `K` è¡Œï¼šæ¯è¡Œä¸¤ä¸ªæ•´æ•° `s` å’Œ `k`ï¼Œè¡¨ç¤ºä» `s` åˆ° `k` æœ‰ä¸€æ¡æœ‰å‘è¾¹ã€‚

---

## ğŸ§  è§£é¢˜æ€è·¯

- æ„å»ºé‚»æ¥çŸ©é˜µå­˜å›¾ï¼ˆä¹Ÿå¯ç”¨é‚»æ¥è¡¨ï¼‰
- ä½¿ç”¨ DFS æ·±åº¦ä¼˜å…ˆæœç´¢
- ä»èŠ‚ç‚¹ 1 å¼€å§‹æ ‡è®°è®¿é—®
- æœ€ååˆ¤æ–­æ‰€æœ‰èŠ‚ç‚¹æ˜¯å¦éƒ½è¢«è®¿é—®åˆ°

---

## ğŸ“Œ å…³é”®æŠ€å·§

- é‚»æ¥çŸ©é˜µ `grid[i][j] == true` è¡¨ç¤ºä» i åˆ° j æœ‰è¾¹
- DFS é€’å½’è®¿é—®æ‰€æœ‰å¯è¾¾ç‚¹
- ä½¿ç”¨ `visited` æ•°ç»„é˜²æ­¢é‡å¤è®¿é—®

---

## ğŸ’» C++ ä»£ç 

```cpp
#include <cstdio>
#include <iostream>
#include <vector>
using namespace std;

void dfs(const auto grid, auto &visited, int cnt){
    if (visited[cnt] == true)
        return;
    visited[cnt] = true;
    for (int i = 1; i < visited.size(); i++){
        if (grid[cnt][i] == true)
            dfs(grid, visited, i);
    }
}

int main(){
    int N, K;
    cin >> N >> K;
    vector<vector<bool>> grid(N + 1, vector<bool>(N + 1, false));
    for (int i = 0; i < K; i++){
        int s, k;
        cin >> s >> k;
        grid[s][k] = true;
    }
    vector<bool> visited(N + 1, false);
    dfs(grid, visited, 1);
    bool flag = true;
    for (int i = 1; i <= N; i++){
        flag &= visited[i];
    }
    if (flag == true)
        cout << 1 << endl;
    else
        cout << -1 << endl;

    return 0;
}
```

---

## ğŸ§® æ—¶é—´å¤æ‚åº¦

- æœ€åæƒ…å†µéå†æ‰€æœ‰ç‚¹å’Œè¾¹ï¼š`O(NÂ²)`ï¼ˆé‚»æ¥çŸ©é˜µï¼‰ï¼Œå¯ä¼˜åŒ–ä¸º `O(N+K)`ï¼ˆé‚»æ¥è¡¨ï¼‰

---

## âœ… å°ç»“

- è¿™æ˜¯å›¾çš„**è¿é€šæ€§åˆ¤æ–­**ç»å…¸é¢˜å‹
- DFS/BFS éƒ½å¯ä»¥è§£å†³
- å¯æ‹“å±•åˆ°åˆ¤æ–­æœ‰å‘å›¾å¼ºè¿é€šã€æ— å‘å›¾è”é€šå—ç­‰é—®é¢˜

