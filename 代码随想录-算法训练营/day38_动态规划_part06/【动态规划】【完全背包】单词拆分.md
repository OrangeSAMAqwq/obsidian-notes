# 题目：单词拆分（Word Break）🧩

---

## 🧠 题目理解

给定一个字符串 `s` 和一个字符串字典 `wordDict`，判断：

> **是否可以将 `s` 拆分成若干个字典中的单词（单词可重复使用）**

注意点：

- 字典中的单词可以被重复使用
- 拆分顺序必须与原字符串顺序一致
- 只需要判断 **是否存在一种拆分方式**

---

## 🔍 问题建模

这道题是一个非常经典的 **字符串 DP + 完全背包可达性问题**。

可以这样类比：

- 字符串前缀长度 👉 背包容量
- 字典中的单词 👉 物品（可无限使用）
- 能否拼出整个字符串 👉 是否可达

本质问题：

> **前 i 个字符是否可以被字典中的单词拼出来**

---

## ✨ 状态设计

### 状态定义

```text
dp[i] 表示：字符串 s 的前 i 个字符是否可以被成功拆分
```

也就是判断：

```text
s[0 .. i-1] 是否可以由 wordDict 拼成
```

---

### 初始化

```cpp
dp[0] = true;
```

含义：

- 空字符串是天然可拆分的
- 是整个 DP 的起点（非常关键）

---

## 🔁 状态转移

枚举当前位置 `i`，尝试用字典中的每一个单词结尾：

如果满足：

1. 当前单词长度 `len <= i`
2. `s[i-len .. i-1] == word`
3. `dp[i-len] == true`

那么：

```text
dp[i] = true
```

转移公式可以理解为：

```text
dp[i] = dp[i - len(word)] && 后缀匹配
```

---

## 🔄 遍历顺序说明

你的遍历顺序是：

```cpp
for (int i = 1; i <= n; i++) {
    for (每个 word) {
        ...
    }
}
```

这是 **完全正确且标准的**，原因是：

- `i` 表示当前字符串长度（背包容量）
- `wordDict` 表示可重复使用的物品
- 单词可以无限次使用

👉 这是 **完全背包 + bool DP（可达性）** 的标准写法

---

## 💻 代码实现（你的版本）

```cpp
class Solution {
public:
    bool wordBreak(string s, vector<string>& wordDict) {
        int n = s.size();
        vector<bool> dp(n + 1, false);
        dp[0] = true;
        for (int i = 1; i <= n; i++){
            for (int j = 0; j < wordDict.size(); j++){
                if (i < wordDict[j].size())
                    continue;
                string str = string(
                    s.begin() + i - wordDict[j].size(),
                    s.begin() + i
                );
                if (str == wordDict[j] && dp[i - wordDict[j].size()])
                    dp[i] = true;
            }
        }
        return dp[n];
    }
};
```

---

## 🆚 与背包模型对照

| 维度 | 对应关系 |
|----|----|
| 背包容量 | 字符串长度 |
| 物品 | 字典中的单词 |
| 是否可重复 | ✅ |
| DP 类型 | bool（可达性） |
| 背包类型 | 完全背包 |

一句话总结：

> **Word Break = 字符串版的完全背包可达性问题**

---

## ⏱️ 复杂度分析

- 时间复杂度：  
  `O(n × |wordDict| × 平均单词长度)`
- 空间复杂度：  
  `O(n)`

---

## 🧾 小结（记忆点）

遇到以下关键词时，直接条件反射：

- 字符串
- 字典
- 能不能拼出来 / 拆出来

👉 马上想到：

```text
dp[i]：前 i 个字符是否可达
```

这道题与你已经做过的：

- 完全背包
- 零钱兑换（可达 / 最值）
- 爬楼梯（排列）

**全部属于同一条 DP 主线**

到这里，这一整条 DP 体系已经非常清晰了 ✅
