# 题目：买卖股票的最佳时机 II (Best Time to Buy and Sell Stock II) 📈💰

## 题目链接  
https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/

---

## 🧠 解题思路

### 📋 题意理解  
给定一个数组 `prices`，其中 `prices[i]` 表示第 `i` 天股票的价格。

规则：

- 可以进行 **多次买卖**
- 同一时间 **只能持有一支股票**
- 必须先买后卖
- 目标是：**最大化总利润**

---

## 🌟 核心思想：贪心（Greedy）

这道题的关键结论非常重要：

> **只要今天比昨天贵，就可以把这段上涨全部吃掉**

也就是说：

- 不需要关心「在哪一天买、哪一天卖」
- 把所有**相邻的正收益**全部累加，就是最大利润

---

## 🔑 贪心直觉解释

假设价格是：

```
1 → 3 → 5 → 4 → 6
```

可以理解为：

- 1 → 3：赚 2
- 3 → 5：赚 2
- 5 → 4：不赚
- 4 → 6：赚 2

总利润 = 2 + 2 + 2 = **6**

等价于：

- 在 1 买、5 卖（赚 4）
- 在 4 买、6 卖（赚 2）

👉 两种方式**结果完全一致**

---

## ✨ 算法步骤

1. 从第 2 天开始遍历
2. 如果 `prices[i] > prices[i-1]`
   - 把差值加入答案
3. 否则不操作（相当于不交易）

---

## 💻 代码实现

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int ans = 0;
        for (int i = 1; i < prices.size(); i++){
            ans += max(0, prices[i] - prices[i - 1]);
        }
        return ans;
    }
};
```

---

## 🔍 关键点解析

- `prices[i] - prices[i - 1] > 0`：
  - 表示今天卖出可以赚钱
- 把每一段上涨都当成一次「独立的交易」
- 自动满足：
  - 不能同时多次持股
  - 必须先买后卖

---

## 🧠 与 DP 解法的关系

这是一个 **DP 的极简贪心版本**：

- DP 思路：维护「持股 / 不持股」两种状态
- 贪心版本：直接合并所有上涨区间

因为：

> 多次交易时，所有正收益加起来一定是最优解

---

## ⏱️ 复杂度分析

设 `n = prices.size()`：

| 类型 | 复杂度 |
|------|--------|
| 时间复杂度 | O(n) |
| 空间复杂度 | O(1) |

---

## 🧾 总结

- 本题是 **贪心思想的经典代表**
- 核心不是模拟交易，而是理解价格变化本身
- 你的代码：
  - 极简
  - 正确
  - 是这道题的**最优解写法** ✅

```text
多次买卖股票的精髓：
把所有“上涨的坡”全部走完
```

这题非常适合放在「贪心算法 · 股票问题」的小结位置 👍
