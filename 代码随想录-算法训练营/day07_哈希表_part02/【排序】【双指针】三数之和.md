# é¢˜ç›®ï¼šä¸‰æ•°ä¹‹å’Œ (3Sum) â•

## é¢˜ç›®é“¾æ¥ ğŸŒ  
https://leetcode.cn/problems/3sum/

---

## è§£é¢˜æ€è·¯ ğŸ§ 

### æ€è·¯åˆ†æ ğŸ§©

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¦æ±‚æ‰¾å‡ºæ‰€æœ‰å’Œä¸º `0` çš„ä¸é‡å¤ä¸‰å…ƒç»„ `[a, b, c]`ï¼Œæ»¡è¶³ï¼š

- `a + b + c = 0`
- ä¸‰å…ƒç»„ä¸­çš„å…ƒç´ å¯ä»¥é‡å¤å‡ºç°äºæ•°ç»„ä¸åŒä½ç½®ï¼Œä½†ç»“æœä¸­ä¸èƒ½å‡ºç°é‡å¤ä¸‰å…ƒç»„

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ **æ’åº + åŒæŒ‡é’ˆ** é—®é¢˜ã€‚

---

### æ€»ä½“æ€è·¯ âœ…

1. **æ’åº**ï¼š  
   å…ˆå¯¹æ•°ç»„è¿›è¡Œå‡åºæ’åºï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨åŒæŒ‡é’ˆï¼Œå¹¶å¤„ç†é‡å¤å…ƒç´ ã€‚

2. **æšä¸¾ç¬¬ä¸€ä¸ªæ•° `nums[i]`**ï¼š  
   - éå† `i` ä» `0` åˆ° `n - 3`  
   - å¦‚æœå½“å‰ `nums[i]` å’Œå‰ä¸€ä¸ªç›¸åŒï¼Œç›´æ¥è·³è¿‡ï¼Œé¿å…é‡å¤ä¸‰å…ƒç»„ã€‚

3. **åŒæŒ‡é’ˆæ‰¾å¦å¤–ä¸¤ä¸ªæ•°**ï¼š  
   - å›ºå®š `nums[i]`ï¼Œç›®æ ‡å˜ä¸º `cnt1 = 0 - nums[i]`  
   - è®¾å·¦å³æŒ‡é’ˆï¼š
     - `l = i + 1`
     - `r = n - 1`
   - é€šè¿‡ `nums[l] + nums[r]` ä¸ `cnt1` çš„æ¯”è¾ƒæ¥ç§»åŠ¨å·¦å³æŒ‡é’ˆï¼š
     - ç­‰äº `cnt1`ï¼šè®°å½•ç­”æ¡ˆï¼Œå¹¶å·¦å³æŒ‡é’ˆåŒæ—¶æ”¶ç¼©ï¼ŒåŒæ—¶è·³è¿‡é‡å¤å€¼
     - å°äº `cnt1`ï¼šå·¦æŒ‡é’ˆå³ç§»ï¼ˆå¢å¤§å’Œï¼‰
     - å¤§äº `cnt1`ï¼šå³æŒ‡é’ˆå·¦ç§»ï¼ˆå‡å°å’Œï¼‰

1. **å‰ªæä¼˜åŒ–** âœ‚ï¸
   åœ¨è¿›å…¥åŒæŒ‡é’ˆå‰å¢åŠ ä¸¤å¤„åˆ¤æ–­ï¼š
   - å¦‚æœå½“å‰æœ€å°çš„ä¸¤ä¸ªæ•°ä¹‹å’Œå·²ç»å¤§äº `cnt1`ï¼Œç›´æ¥ `break`ï¼Œåé¢åªä¼šæ›´å¤§  
     ```cpp
     if (nums[l] + nums[l + 1] > cnt1)
         break;
     ```
   - å¦‚æœå½“å‰æœ€å¤§çš„ä¸¤ä¸ªæ•°ä¹‹å’Œè¿˜å°äº `cnt1`ï¼Œè¯´æ˜è¿™è½® i ä¸å¯èƒ½ç»„æˆç­”æ¡ˆï¼Œ`continue`  
     ```cpp
     if (nums[r] + nums[r - 1] < cnt1)
         continue;
     ```

---

## ä»£ç å®ç° ğŸ’»

```cpp
class Solution {
public:
    vector<vector<int>> threeSum(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        std::vector<vector<int>> ans;
        int n = nums.size();

        for (int i = 0; i < n - 2; i++) {
            // å»é‡ï¼šè·³è¿‡ç›¸åŒçš„èµ·ç‚¹
            if (i != 0 && nums[i] == nums[i - 1])
                continue;

            int cnt1 = 0 - nums[i];
            int l = i + 1, r = n - 1;

            // å‰ªæ 1ï¼šå½“å‰æœ€å°ä¸¤æ•°ä¹‹å’Œéƒ½å¤§äºç›®æ ‡ï¼Œåé¢ä¸ä¼šæœ‰è§£
            if (nums[l] + nums[l + 1] > cnt1)
                break;

            // å‰ªæ 2ï¼šå½“å‰æœ€å¤§ä¸¤æ•°ä¹‹å’Œéƒ½å°äºç›®æ ‡ï¼Œè¿™ä¸ª i ç›´æ¥è·³è¿‡
            if (nums[r] + nums[r - 1] < cnt1)
                continue;

            while (l < r) {
                int sum = nums[l] + nums[r];
                if (sum == cnt1) {
                    ans.push_back({nums[i], nums[l], nums[r]});
                    l++;
                    r--;
                    // å·¦è¾¹å»é‡
                    while (l < r && nums[l] == nums[l - 1])  l++;
                    // å³è¾¹å»é‡
                    while (l < r && nums[r] == nums[r + 1])  r--;
                }
                else if (sum < cnt1) {
                    l++;
                    while (l < r && nums[l] == nums[l - 1])  l++;
                }
                else { // sum > cnt1
                    r--;
                    while (l < r && nums[r] == nums[r + 1])  r--;
                }
            }
        }
        return ans;
    }
};
```

---

## å…³é”®ç‚¹ ğŸ”‘

- **æ’åº + åŒæŒ‡é’ˆ**ï¼šæ˜¯ä¸‰æ•°ä¹‹å’Œçš„æ ¸å¿ƒå¥—è·¯ã€‚
- **å»é‡**ï¼š
  - å¤–å±‚ `i` å»é‡ï¼š`if (i != 0 && nums[i] == nums[i - 1]) continue;`
  - å†…å±‚ `l`ã€`r` å»é‡ï¼šæ‰¾åˆ°ä¸€ç»„è§£åè·³è¿‡ç›¸åŒå€¼ã€‚
- **å‰ªæ**ï¼šåˆ©ç”¨æ’åºåçš„æœ‰åºæ€§ï¼Œåœ¨è¿›å…¥åŒæŒ‡é’ˆå‰åšå¿«é€Ÿåˆ¤æ–­ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„åŒæŒ‡é’ˆè¿‡ç¨‹ã€‚

---

## è¾¹ç•Œæƒ…å†µ ğŸš¨

1. æ•°ç»„é•¿åº¦ < 3ï¼šç›´æ¥è¿”å›ç©ºç»“æœã€‚
2. å…¨æ˜¯æ­£æ•°æˆ–å…¨æ˜¯è´Ÿæ•°ï¼šä¸å¯èƒ½å‡‘å‡º 0ï¼Œç»“æœä¸ºç©ºã€‚
3. å‡ºç°å¤§é‡é‡å¤å…ƒç´ ï¼šéœ€è¦è°¨æ…å»é‡ï¼Œå¦åˆ™ä¼šäº§ç”Ÿé‡å¤ä¸‰å…ƒç»„ã€‚

---

## å¤æ‚åº¦åˆ†æ â±ï¸

- æ—¶é—´å¤æ‚åº¦ï¼š**O(nÂ²)**  
  - æ’åº O(n log n)  
  - å¤–å±‚éå† O(n)ï¼Œå†…å±‚åŒæŒ‡é’ˆ O(n)ï¼Œæ€»ä½“ O(nÂ²)
- ç©ºé—´å¤æ‚åº¦ï¼š**O(1)**ï¼ˆä¸è®¡ç»“æœæ•°ç»„ï¼‰

---

## æ€»ç»“ ğŸ“š

æœ¬é¢˜æ˜¯åŒæŒ‡é’ˆåœ¨æœ‰åºæ•°ç»„ä¸­æœç´¢ç»„åˆçš„å…¸å‹åº”ç”¨ï¼š

- æ’åºä¿è¯æœ‰åº  
- å›ºå®šä¸€ä¸ªæ•°ï¼Œç”¨åŒæŒ‡é’ˆåœ¨åé¢åŒºé—´å†…æ‰¾ä¸¤æ•°ä¹‹å’Œ  
- æ³¨æ„ **å»é‡** å’Œ **å‰ªæ** æ˜¯å†™å‡ºé€šè¿‡æ‰€æœ‰ç”¨ä¾‹çš„å…³é”®  
è¿™ä¸€ç‰ˆå®ç°ç»“æ„æ¸…æ™°ï¼Œè¿˜åŠ å…¥äº†å‰ªæä¼˜åŒ–ï¼Œæ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çš„ 3Sum æ¨¡æ¿ã€‚
