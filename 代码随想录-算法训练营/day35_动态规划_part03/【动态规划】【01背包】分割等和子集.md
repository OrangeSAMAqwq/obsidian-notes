# é¢˜ç›®ï¼šåˆ†å‰²ç­‰å’Œå­é›† (Partition Equal Subset Sum) âš–ï¸ğŸ’

## é¢˜ç›®é“¾æ¥  
https://leetcode.cn/problems/partition-equal-subset-sum/

---

## ğŸ§  è§£é¢˜æ€è·¯

### ğŸ“‹ é¢˜æ„ç†è§£  
ç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­èƒ½å¦å°†å®ƒåˆ†æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ï¼š

```text
å­é›†1çš„å’Œ == å­é›†2çš„å’Œ
```

å¦‚æœæ€»å’Œä¸º `sum`ï¼Œé‚£ä¹ˆç›®æ ‡å°±æ˜¯ï¼š

```text
èƒ½å¦é€‰å‡ºè‹¥å¹²ä¸ªæ•°ï¼Œä½¿å®ƒä»¬çš„å’Œæ°å¥½ä¸º sum / 2
```

è¿™å°±å˜æˆäº†ä¸€ä¸ªæ ‡å‡†çš„ **01 èƒŒåŒ…å¯è¡Œæ€§é—®é¢˜** âœ…

---

## ğŸŒŸ æ ¸å¿ƒæ€æƒ³ï¼š01 èƒŒåŒ…ï¼ˆå¯è¾¾æ€§ DPï¼‰

æŠŠæ¯ä¸ªæ•°çœ‹æˆä¸€ä¸ªç‰©å“ï¼š

- ç‰©å“é‡é‡ = `nums[i]`
- èƒŒåŒ…å®¹é‡ = `half = sum / 2`
- æ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ï¼ˆ01ï¼‰
- é—®ï¼šèƒ½ä¸èƒ½åˆšå¥½è£…æ»¡å®¹é‡ `half`ï¼Ÿ

---

## âœ¨ çŠ¶æ€è®¾è®¡

### âœ… çŠ¶æ€å®šä¹‰ï¼ˆå¸ƒå°” DPï¼‰

```text
dp[j] = æ˜¯å¦èƒ½å‡‘å‡ºå’Œä¸º j çš„å­é›†
```

- `dp[j] = true`ï¼šèƒ½å‡‘å‡ºæ¥
- `dp[j] = false`ï¼šå‡‘ä¸å‡ºæ¥

---

### âœ… åˆå§‹åŒ–

```cpp
dp[0] = true;
```

å«ä¹‰ï¼š
- å’Œä¸º 0 æ€»èƒ½å‡‘å‡ºï¼ˆä»€ä¹ˆéƒ½ä¸é€‰ï¼‰

---

### âœ… çŠ¶æ€è½¬ç§»ï¼ˆ01 èƒŒåŒ…ï¼‰

éå†æ¯ä¸ªæ•° `nums[i]`ï¼Œå€’åºæ›´æ–°å®¹é‡ï¼š

```text
dp[j] |= dp[j - nums[i]]
```

ä½ å†™æˆäº†ï¼š

```cpp
if (dp[j - nums[i]] == true)
    dp[j] = true;
```

å«ä¹‰å®Œå…¨ä¸€è‡´ âœ…

---

## âš ï¸ å…³é”®ç‚¹ï¼šä¸ºä»€ä¹ˆå¿…é¡»å€’åºéå† jï¼Ÿ

```cpp
for (int j = half; j >= nums[i]; j--)
```

å€’åºçš„æ„ä¹‰ï¼š

- ä¿è¯ `dp[j - nums[i]]` ç”¨çš„æ˜¯â€œä¸Šä¸€è½®â€ï¼ˆæ²¡ç”¨å½“å‰æ•°ï¼‰çš„ç»“æœ
- é¿å…åŒä¸€ä¸ªæ•°è¢«é‡å¤ä½¿ç”¨ï¼ˆå¦åˆ™ä¼šå˜æˆå®Œå…¨èƒŒåŒ…ï¼‰

âœ… å€’åº = 01 èƒŒåŒ…  
âŒ æ­£åº = å…è®¸é‡å¤ä½¿ç”¨

---

## âœ… ä½ çš„å‰ªæä¸åˆ¤æ–­

### 1) æ€»å’Œä¸ºå¥‡æ•°ç›´æ¥ false

```cpp
if (numsSum % 2 == 1)
    return false;
```

### 2) å¦‚æœæŸä¸ªæ•°å¤§äº halfï¼Œç›´æ¥ false

```cpp
if (nums[i] > half)
    return false;
```

è¿™ä¸ªå‰ªæéå¸¸åˆç†ï¼ˆå› ä¸ºæ‰€æœ‰æ•°éƒ½æ˜¯æ­£æ•°ï¼‰ã€‚

> ä½ å‰é¢æ’åºäº†ï¼Œæ‰€ä»¥ä¸€æ—¦é‡åˆ° `nums[i] > half`ï¼Œåé¢æ›´å¤§ï¼Œä¹Ÿéƒ½ä¸å¯èƒ½ã€‚

---

## ğŸ’» ä»£ç å®ç°

```cpp
class Solution {
public:
    bool canPartition(vector<int>& nums) {
        sort(nums.begin(), nums.end());
        int numsSum = 0;
        for (int i = 0; i < nums.size(); i++){
            numsSum += nums[i];
        }
        if (numsSum % 2 == 1)
            return false;

        int half = numsSum / 2;
        vector<bool> dp(half + 1, false);
        dp[0] = true;

        for (int i = 0; i < nums.size(); i++){
            if (nums[i] > half)
                return false;
            for (int j = half; j >= nums[i]; j--){
                if (dp[j - nums[i]] == true)
                    dp[j] = true;
            }
        }
        return dp[half];
    }
};
```

---

## â±ï¸ å¤æ‚åº¦åˆ†æ

è®¾ `n = nums.size()`ï¼Œ`half = sum/2`ï¼š

| ç±»å‹ | å¤æ‚åº¦ |
|------|--------|
| æ—¶é—´å¤æ‚åº¦ | O(n Ã— half) |
| ç©ºé—´å¤æ‚åº¦ | O(half) |

---

## ğŸ” å…³é”®ç‚¹æ€»ç»“

- æœ¬é¢˜æœ¬è´¨ï¼š**æ˜¯å¦å­˜åœ¨å­é›†å’Œä¸º sum/2**
- å¯¹åº”æ¨¡å‹ï¼š**01 èƒŒåŒ…å¯è¾¾æ€§**
- ä¸‰ä¸ªå…³é”®ç‚¹ï¼š
  1. æ€»å’Œå¿…é¡»ä¸ºå¶æ•°
  2. dp[0] = true
  3. j å¿…é¡»å€’åºéå†ï¼ˆ01 èƒŒåŒ…ï¼‰

```text
åˆ†å‰²ç­‰å’Œå­é›†çš„ç²¾é«“ï¼š
èƒ½ä¸èƒ½å‡‘å‡º halfï¼ˆ01 èƒŒåŒ…å¯è¾¾æ€§ï¼‰
```
