# é¢˜ç›®ï¼šæ‘†åŠ¨åºåˆ— (Wiggle Subsequence) ğŸ“ˆğŸ“‰

## é¢˜ç›®é“¾æ¥  
https://leetcode.cn/problems/wiggle-subsequence/

---

## ğŸ§  è§£é¢˜æ€è·¯

### ğŸ“‹ é¢˜æ„ç†è§£  
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œè¿”å› **æœ€é•¿æ‘†åŠ¨å­åºåˆ—çš„é•¿åº¦**ã€‚

æ‘†åŠ¨åºåˆ—å®šä¹‰ï¼š

- ç›¸é‚»å…ƒç´ ä¹‹å·® **æ­£è´Ÿäº¤æ›¿**
- ç¬¬ä¸€ä¸ªå·®å€¼å¯ä»¥æ˜¯æ­£ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿ
- ç›¸ç­‰ä¸ç®—æ‘†åŠ¨ï¼ˆå·®å€¼ä¸º 0 ç›´æ¥å¿½ç•¥ï¼‰

ä¾‹å¦‚ï¼š

- `[1,7,4,9,2,5]` â†’ é•¿åº¦ 6ï¼ˆæ ‡å‡†æ‘†åŠ¨ï¼‰
- `[1,17,5,10,13,15,10,5,16,8]` â†’ é•¿åº¦ 7

---

## ğŸŒŸ æ ¸å¿ƒæ€æƒ³ï¼šè´ªå¿ƒï¼ˆGreedyï¼‰

è¿™é“é¢˜çš„å…³é”®åœ¨äºä¸€ä¸ªéå¸¸é‡è¦çš„ç»“è®ºï¼š

> **åªè¦â€œè¶‹åŠ¿å‘ç”Ÿå˜åŒ–â€ï¼Œå°±å¯ä»¥è®¡å…¥ä¸€æ¬¡æ‘†åŠ¨**

ä¹Ÿå°±æ˜¯è¯´ï¼š

- ä¸Šå‡ â†’ ä¸‹é™
- ä¸‹é™ â†’ ä¸Šå‡  
æ‰ç®—ä¸€æ¬¡æœ‰æ•ˆæ‘†åŠ¨

è€Œä¸­é—´çš„â€œå¤šä½™æ³¢åŠ¨â€å…¶å®æ˜¯å¯ä»¥è¢«è´ªå¿ƒåœ°å¿½ç•¥æ‰çš„ã€‚

---

## âœ¨ ä½ çš„è§£æ³•æ€è·¯ï¼ˆåŒèµ·ç‚¹è´ªå¿ƒï¼‰

ä½ é‡‡ç”¨äº†ä¸€ä¸ª**éå¸¸æ¸…æ™°ã€å¯è§£é‡Šæ€§å¾ˆå¼º**çš„æ€è·¯ï¼š

### ğŸ‘‰ åˆ†ä¸¤ç§æƒ…å†µåˆ†åˆ«è®¡ç®—ï¼š

1. **å‡è®¾ç¬¬ä¸€ä¸ªæœ‰æ•ˆè¶‹åŠ¿æ˜¯â€œä¸Šå‡â€**
2. **å‡è®¾ç¬¬ä¸€ä¸ªæœ‰æ•ˆè¶‹åŠ¿æ˜¯â€œä¸‹é™â€**

åˆ†åˆ«ç®—å‡ºï¼š

- `count1`ï¼šä»¥ä¸Šå‡å¼€å¤´çš„æœ€é•¿æ‘†åŠ¨åºåˆ—
- `count2`ï¼šä»¥ä¸‹é™å¼€å¤´çš„æœ€é•¿æ‘†åŠ¨åºåˆ—

æœ€åå–ä¸¤è€…æœ€å¤§å€¼ã€‚

è¿™æ ·åšå¯ä»¥å®Œå…¨è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œéå¸¸ç¨³å¦¥ âœ…

---

## ğŸ” å•æ¬¡éå†çš„é€»è¾‘æ‹†è§£

å…³é”®å˜é‡ï¼š

- `pre`ï¼šå½“å‰å‚è€ƒå€¼ï¼ˆä¸Šä¸€ä¸ªä¿ç•™çš„å…ƒç´ ï¼‰
- `flagUp`ï¼š
  - `true`ï¼šæœŸå¾…ä¸‹ä¸€æ¬¡æ˜¯â€œä¸‹é™â€
  - `false`ï¼šæœŸå¾…ä¸‹ä¸€æ¬¡æ˜¯â€œä¸Šå‡â€
- `count`ï¼šå½“å‰æ‘†åŠ¨é•¿åº¦

å½“éå†åˆ° `nums[i]` æ—¶ï¼š

- è‹¥ `nums[i] > pre`ï¼š
  - è¯´æ˜å‡ºç°â€œä¸Šå‡â€
  - å¦‚æœæ­£å¥½ç¬¦åˆå½“å‰æœŸå¾…çš„è¶‹åŠ¿ â†’ è®¡æ•° +1ï¼Œå¹¶ç¿»è½¬æœŸå¾…æ–¹å‘
- è‹¥ `nums[i] < pre`ï¼š
  - è¯´æ˜å‡ºç°â€œä¸‹é™â€
  - åŒç†å¤„ç†
- ç›¸ç­‰çš„æƒ…å†µç›´æ¥å¿½ç•¥ï¼ˆä¸å½±å“æ‘†åŠ¨ï¼‰

---

## ğŸ’» ä»£ç å®ç°

```cpp
class Solution {
public:
    int wiggleMaxLength(vector<int>& nums) {
        int count1 = 1, count2 = 1;
        int pre = nums[0];
        bool flagUp = true;

        // æƒ…å†µä¸€ï¼šå‡è®¾å…ˆä¸Šå‡
        for (int i = 1; i < nums.size(); i++){
            if (nums[i] > pre){
                pre = nums[i];
                if (flagUp){
                    count1++;
                    flagUp = false;
                }
            }
            else if (nums[i] < pre){
                pre = nums[i];
                if (!flagUp){
                    count1++;
                    flagUp = true;
                }
            }
        }

        // æƒ…å†µäºŒï¼šå‡è®¾å…ˆä¸‹é™
        pre = nums[0];
        flagUp = false;
        for (int i = 1; i < nums.size(); i++){
            if (nums[i] > pre){
                pre = nums[i];
                if (flagUp){
                    count2++;
                    flagUp = false;
                }
            }
            else if (nums[i] < pre){
                pre = nums[i];
                if (!flagUp){
                    count2++;
                    flagUp = true;
                }
            }
        }

        return max(count1, count2);
    }
};
```

---

## ğŸ” å…³é”®ç‚¹è§£æ

- ç›¸ç­‰å…ƒç´ ï¼ˆ`nums[i] == pre`ï¼‰è¢«è‡ªç„¶å¿½ç•¥
- æ¯æ¬¡åªåœ¨â€œè¶‹åŠ¿å‘ç”Ÿåˆ‡æ¢â€æ—¶æ‰å¢åŠ é•¿åº¦
- é€šè¿‡â€œåŒèµ·ç‚¹â€ä¿è¯ä¸ä¼šé—æ¼æœ€ä¼˜è§£
- å®ç°å®Œå…¨æ˜¯ O(n)ï¼Œæ²¡æœ‰ DP è¡¨ï¼Œéå¸¸é«˜æ•ˆ

---

## â±ï¸ å¤æ‚åº¦åˆ†æ

è®¾ `n = nums.size()`ï¼š

| ç±»å‹ | å¤æ‚åº¦ |
|------|--------|
| æ—¶é—´å¤æ‚åº¦ | O(n) |
| ç©ºé—´å¤æ‚åº¦ | O(1) |

---

## ğŸ§¾ æ€»ç»“

- æœ¬é¢˜æ˜¯ **è´ªå¿ƒæ€æƒ³çš„ç»å…¸ä»£è¡¨é¢˜**
- å…³é”®ä¸åœ¨äºè®°å…¬å¼ï¼Œè€Œåœ¨äºç†è§£ï¼š
  - å¤šä½™çš„ä¸­é—´æ³¢åŠ¨å¯ä»¥è¢«ä¸¢å¼ƒ
  - åªä¿ç•™â€œæ‹ç‚¹â€å³å¯å¾—åˆ°æœ€é•¿æ‘†åŠ¨
- ä½ è¿™ç‰ˆè§£æ³•ï¼š
  - æ€è·¯æ¸…æ™°
  - é€»è¾‘å¯è§£é‡Š
  - éå¸¸é€‚åˆå†™è¿›ä¸ªäººç®—æ³•ç¬”è®° ğŸ‘

```text
æ‘†åŠ¨åºåˆ—çš„ç²¾é«“ï¼š
é•¿åº¦å–å†³äºâ€œè¶‹åŠ¿åˆ‡æ¢çš„æ¬¡æ•°â€ï¼Œè€Œä¸æ˜¯å…·ä½“æ•°å€¼å¤§å°
```
