# é¢˜ç›®ï¼šæœ€å¤§å­æ•°ç»„å’Œ (Maximum Subarray) ğŸ“ŠğŸ’¥

## é¢˜ç›®é“¾æ¥  
https://leetcode.cn/problems/maximum-subarray/

---

## ğŸ§  è§£é¢˜æ€è·¯

### ğŸ“‹ é¢˜æ„ç†è§£  
ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾å‡º **å’Œæœ€å¤§çš„è¿ç»­å­æ•°ç»„**ï¼ˆè‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶è¿”å›å…¶æœ€å¤§å’Œã€‚

ä¾‹å¦‚ï¼š

- `[-2,1,-3,4,-1,2,1,-5,4]`  
  â†’ æœ€å¤§å­æ•°ç»„æ˜¯ `[4,-1,2,1]`ï¼Œå’Œä¸º `6`

---

## ğŸŒŸ æ ¸å¿ƒæ€æƒ³ï¼šåŠ¨æ€è§„åˆ’ / è´ªå¿ƒï¼ˆKadane ç®—æ³•ï¼‰

è¿™é“é¢˜çš„ç»å…¸è§£æ³•æ˜¯ **Kadane ç®—æ³•**ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªã€ŒåŠ¨æ€è§„åˆ’çš„è´ªå¿ƒå†™æ³•ã€ã€‚

### ğŸ”‘ æ ¸å¿ƒé—®é¢˜è½¬åŒ–

å¯¹äºæ¯ä¸€ä¸ªä½ç½® `i`ï¼š

> **ä»¥ `nums[i]` ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œæ˜¯å¤šå°‘ï¼Ÿ**

åªæœ‰ä¸¤ç§é€‰æ‹©ï¼š

1. **ä»è‡ªå·±é‡æ–°å¼€å§‹**
   ```cpp
   nums[i]
   ```
2. **æ¥åœ¨å‰ä¸€ä¸ªå­æ•°ç»„åé¢**
   ```cpp
   cnt + nums[i]
   ```

å–ä¸¤è€…æœ€å¤§å³å¯ã€‚

---

## âœ¨ çŠ¶æ€å®šä¹‰

- `cnt`ï¼š**ä»¥å½“å‰ä½ç½®ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ**
- `ans`ï¼š**å…¨å±€æœ€å¤§å­æ•°ç»„å’Œ**

çŠ¶æ€è½¬ç§»å…¬å¼ï¼š

```text
cnt = max(nums[i], cnt + nums[i])
ans = max(ans, cnt)
```

---

## ğŸ’» ä»£ç å®ç°

```cpp
class Solution {
public:
    int maxSubArray(vector<int>& nums) {
        int cnt = nums[0], ans = nums[0];
        for (int i = 1; i < nums.size(); i++){
            cnt = max(nums[i], cnt + nums[i]);
            ans = max(ans, cnt);
        }
        return ans;
    }
};
```

---

## ğŸ” å…³é”®ç‚¹è§£æ

- **ä¸ºä»€ä¹ˆå¯ä»¥ä¸¢å¼ƒå‰é¢çš„å­æ•°ç»„ï¼Ÿ**  
  å¦‚æœ `cnt < 0`ï¼Œé‚£ç»§ç»­åŠ ä¸‹å»åªä¼šæ‹–ç´¯åé¢çš„å’Œï¼Œä¸å¦‚ä»å½“å‰å…ƒç´ é‡æ–°å¼€å§‹ã€‚

- **ä¸ºä»€ä¹ˆæ˜¯è¿ç»­å­æ•°ç»„ï¼Ÿ**  
  å› ä¸º `cnt` æ°¸è¿œåªåŸºäºå‰ä¸€ä¸ªä½ç½®è½¬ç§»ã€‚

- **ä¸ºä»€ä¹ˆåˆå§‹åŒ–ä¸º `nums[0]`ï¼Ÿ**  
  å­æ•°ç»„è‡³å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œä¸èƒ½åˆå§‹åŒ–ä¸º `0`ï¼ˆå¦åˆ™å…¨è´Ÿæ•°ç»„ä¼šå‡ºé”™ï¼‰ã€‚

---

## ğŸ§  åŠ¨æ€è§„åˆ’è§†è§’ï¼ˆç­‰ä»·ç†è§£ï¼‰

- `dp[i]`ï¼šä»¥ `i` ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œ
- çŠ¶æ€è½¬ç§»ï¼š
  ```text
  dp[i] = max(nums[i], dp[i-1] + nums[i])
  ```
- æœ€ç»ˆç­”æ¡ˆæ˜¯ `max(dp[i])`

ä½ çš„å†™æ³•å…¶å®æ˜¯ **dp çš„ç©ºé—´ä¼˜åŒ–ç‰ˆæœ¬** âœ…

---

## â±ï¸ å¤æ‚åº¦åˆ†æ

è®¾ `n = nums.size()`ï¼š

| ç±»å‹ | å¤æ‚åº¦ |
|------|--------|
| æ—¶é—´å¤æ‚åº¦ | O(n) |
| ç©ºé—´å¤æ‚åº¦ | O(1) |

---

## ğŸ§¾ æ€»ç»“

- è¿™æ˜¯ **åŠ¨æ€è§„åˆ’ + è´ªå¿ƒæ€æƒ³çš„ç»å…¸ä»£è¡¨é¢˜**
- å…³é”®ä¸æ˜¯èƒŒå…¬å¼ï¼Œè€Œæ˜¯ç†è§£ï¼š
  - **è´Ÿè´¡çŒ®ä¸€å®šè¦åŠæ—¶èˆå¼ƒ**
- ä½ çš„å®ç°ï¼š
  - ç®€æ´
  - é«˜æ•ˆ
  - å®Œå…¨æ˜¯å·¥ä¸šçº§æ ‡å‡†å†™æ³• ğŸ‘

```text
æœ€å¤§å­æ•°ç»„çš„æœ¬è´¨ï¼š
åªè¦å½“å‰å‰ç¼€å’Œå˜æˆè´Ÿæ•°ï¼Œå®ƒå°±ä¸å†å€¼å¾—ä¿ç•™
```
