# é¢˜ç›®ï¼šç»„åˆæ€»å’Œ (Combination Sum) ğŸ¯â•ğŸ“¦

## é¢˜ç›®é“¾æ¥  
https://leetcode.cn/problems/combination-sum/

---

## ğŸ§  è§£é¢˜æ€è·¯

### ğŸ“‹ é¢˜æ„ç†è§£  
ç»™å®šä¸€ä¸ª **æ— é‡å¤å…ƒç´ ** çš„æ•°ç»„ `candidates` å’Œç›®æ ‡å€¼ `target`ï¼Œæ‰¾å‡ºæ‰€æœ‰å’Œä¸º `target` çš„ç»„åˆã€‚

è§„åˆ™ï¼š

- `candidates` ä¸­çš„æ•°å­—å¯ä»¥ **æ— é™æ¬¡** é€‰å–
- ç»„åˆå†…å…ƒç´ é¡ºåºä¸é‡è¦ï¼ˆ`[2,3,2]` å’Œ `[2,2,3]` æ˜¯åŒä¸€ç§ï¼‰
- è¿”å›æ‰€æœ‰ä¸åŒç»„åˆ

---

## ğŸŒŸ æ ¸å¿ƒæ€æƒ³ï¼šå›æº¯ï¼ˆBacktrackingï¼‰+ å‰ªæ

ç”¨å›æº¯åœ¨å€™é€‰é›†ä¸­ä¸æ–­â€œé€‰æ•°â€ï¼Œç»´æŠ¤ï¼š

- `t`ï¼šå½“å‰ç»„åˆè·¯å¾„
- `sum`ï¼šå½“å‰è·¯å¾„å’Œ
- `start`ï¼šæœ¬å±‚å¼€å§‹æšä¸¾çš„ä¸‹æ ‡ï¼ˆé˜²æ­¢é‡å¤ç»„åˆï¼‰

### ä¸ºä»€ä¹ˆéœ€è¦ `start`ï¼Ÿ
å› ä¸ºç»„åˆä¸å…³å¿ƒé¡ºåºï¼Œå¦‚æœæ¯å±‚éƒ½ä» 0 å¼€å§‹æšä¸¾ï¼Œå°±ä¼šäº§ç”Ÿé‡å¤ï¼š

- `[2,3]` å’Œ `[3,2]` éƒ½ä¼šè¢«æœå‡ºæ¥ âŒ

ç”¨ `start` é™åˆ¶ä¸‹ä¸€æ¬¡é€‰æ‹©åªèƒ½ä»å½“å‰ä¸‹æ ‡åŠä»¥åå¼€å§‹ï¼Œå¯ä»¥ä¿è¯ï¼š

- ç»„åˆåºåˆ—å¤©ç„¶éé™åº
- é¿å…é‡å¤ç­”æ¡ˆ âœ…

---

## âœ‚ï¸ å‰ªæç­–ç•¥

å› ä¸ºå…ˆå¯¹ `candidates` æ’åºäº†ï¼š

- å¦‚æœ `candidates[i] > target`ï¼ˆæ›´å‡†ç¡®åœ°è¯´åº”ä¸ `target - sum` æ¯”è¾ƒï¼‰
  - åé¢æ›´å¤§ä¹Ÿä¸å¯èƒ½ï¼Œç›´æ¥ `break`

å¦å¤–ï¼š

- `sum >= target` ç›´æ¥åœæ­¢é€’å½’
  - `sum == target`ï¼šè®°å½•ç­”æ¡ˆ
  - `sum > target`ï¼šå‰ªæè¿”å›

---

## âœ… ä»£ç å®ç°ï¼ˆå½“å‰å†™æ³•ï¼‰

```cpp
class Solution {
public:
    void dfs(const auto &candidates, auto &ans, auto &t, int target, int &sum, int start){
        if (sum >= target){
            if (sum == target)
                ans.push_back(t); 
            return;
        }
        for (int i = start; i < candidates.size(); i++){
            if (candidates[i] > target)
                break;

            if (t.empty() || candidates[i] >= t.back()){
                t.push_back(candidates[i]);
                sum += candidates[i];
                dfs(candidates, ans, t, target, sum, i);
                sum -= candidates[i];
                t.pop_back();
            }
        }
    }

    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
        sort(candidates.begin(), candidates.end());
        vector<vector<int>> ans;
        vector<int> t;
        int sum = 0;
        dfs(candidates, ans, t, target, sum, 0);
        return ans;
    }
};
```

---

## ğŸ” å…³é”®ç‚¹è§£æ

### 1) â€œå¯ä»¥é‡å¤é€‰å–â€æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ
é€’å½’æ—¶ä¼ å…¥çš„è¿˜æ˜¯ `i` è€Œä¸æ˜¯ `i + 1`ï¼š

```cpp
dfs(..., i);
```

è¡¨ç¤ºå½“å‰æ•°å­—è¿˜å¯ä»¥ç»§ç»­è¢«é€‰ï¼ˆæ— é™æ¬¡ï¼‰ã€‚

### 2) é¿å…é‡å¤ç»„åˆçš„æ‰‹æ®µ
- ç”¨ `start` æ§åˆ¶æšä¸¾èµ·ç‚¹
- å¹¶ä¸”é€šè¿‡ `t.empty() || candidates[i] >= t.back()` ä¿è¯éé™åº

ï¼ˆå…¶å®ä»…é  `start` å·²ç»èƒ½ä¿è¯éé™åºï¼Œè¿™ä¸ªåˆ¤æ–­å±äºé¢å¤–ä¿é™©ï¼‰

### 3) å°å‰ªæç‚¹
ä½ å†™çš„æ˜¯ï¼š

```cpp
if (candidates[i] > target) break;
```

æ›´ç²¾ç¡®çš„å‰ªæé€šå¸¸å†™æˆï¼š

```cpp
if (sum + candidates[i] > target) break;
```

å› ä¸ºæ­¤æ—¶ `sum` å¯èƒ½å·²ç»ä¸ä¸º 0ã€‚

---

## â±ï¸ å¤æ‚åº¦åˆ†æ

è¿™æ˜¯å…¸å‹çš„å›æº¯æšä¸¾é¢˜ï¼Œå¤æ‚åº¦å–å†³äºç­”æ¡ˆæ•°é‡ä¸æœç´¢æ ‘å¤§å°ï¼Œé€šå¸¸è®°ä¸ºï¼š

- æ—¶é—´å¤æ‚åº¦ï¼šæŒ‡æ•°çº§ï¼ˆä¸ç»„åˆæ•°é‡ç›¸å…³ï¼‰
- ç©ºé—´å¤æ‚åº¦ï¼š`O(target)`ï¼ˆé€’å½’æ·±åº¦å’Œè·¯å¾„é•¿åº¦ä¸Šé™ï¼‰

---

## ğŸ§¾ æ€»ç»“

- æœ¬é¢˜æ˜¯ã€Œç»„åˆ + å¯é‡å¤é€‰æ‹©ã€çš„ç»å…¸å›æº¯æ¨¡æ¿
- æ ¸å¿ƒå‚æ•°ï¼š
  - `start`ï¼šé˜²æ­¢é‡å¤ç»„åˆ
  - `sum`ï¼šå‰ªæä¾æ®
  - é€’å½’ä¼  `i`ï¼šå…è®¸é‡å¤é€‰å½“å‰æ•°
- æ’åº + `break` å¯ä»¥å¤§å¹…å‡å°‘æœç´¢ç©ºé—´ âœ¨

```text
ç»„åˆé—®é¢˜çš„å…³é”®ï¼š
ç”¨ start é™åˆ¶é€‰æ‹©èŒƒå›´ â†’ å»é‡
å¯é‡å¤é€‰æ‹©çš„å…³é”®ï¼š
é€’å½’ä»ä» i å¼€å§‹ â†’ å¯å¤é€‰
```
